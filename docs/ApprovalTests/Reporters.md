<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /docs/ApprovalTests/mdsource/Reporters.source.md
To change this file edit the source file and then execute run_markdown.cmd.
-->

# Reporters

<!-- toc -->
## Contents

  * [Supported Diff Tools](#supported-diff-tools)
    * [Windows](#windows)
    * [Mac](#mac)
    * [Linux](#linux)
  * [Making Custom Reporters](#making-custom-reporters)
  * [Joining Reporters](#joining-reporters)
    * [Choosing a diff tool preference](#choosing-a-diff-tool-preference)
  * [Auto-Approving Reporters](#auto-approving-reporters)
  * [Continous Intergration](#continous-intergration)
  * [File Types](#file-types)
    * [Text File extensions](#text-file-extensions)
    * [Image File extensions](#image-file-extensions)
<!-- endtoc -->



## Supported Diff Tools

The DiffReporter class goes through a chain of possible reporters to find the first option installed on your system. Currently the search goes in this order:


### Windows

<!-- snippet: windows_diff_reporters -->
<a id='snippet-windows_diff_reporters'/></a>
```cs
CodeCompareReporter.INSTANCE,
BeyondCompareReporter.INSTANCE,
TortoiseDiffReporter.INSTANCE,
AraxisMergeReporter.INSTANCE,
P4MergeReporter.INSTANCE,
WinMergeReporter.INSTANCE,
KDiffReporter.INSTANCE,
VisualStudioReporter.INSTANCE,
RiderReporter.INSTANCE,
FrameworkAssertReporter.INSTANCE,
QuietReporter.INSTANCE
```
<sup>[snippet source](/src/ApprovalTests/Reporters/Windows/WindowsDiffReporter.cs#L12-L24) / [anchor](#snippet-windows_diff_reporters)</sup>
<!-- endsnippet -->


### Mac

<!-- snippet: mac_diff_reporters -->
<a id='snippet-mac_diff_reporters'/></a>
```cs
BeyondCompareMacReporter.INSTANCE,
DiffMergeReporter.INSTANCE, 
KaleidoscopeDiffReporter.INSTANCE,
Windows.P4MergeReporter.INSTANCE, 
KDiff3Reporter.INSTANCE,
TkDiffReporter.INSTANCE, 
FrameworkAssertReporter.INSTANCE,
QuietReporter.INSTANCE
```
<sup>[snippet source](/src/ApprovalTests/Reporters/Mac/MacDiffReporter.cs#L12-L21) / [anchor](#snippet-mac_diff_reporters)</sup>
<!-- endsnippet -->


### Linux

<!-- snippet: linux_diff_reporters -->
<a id='snippet-linux_diff_reporters'/></a>
```cs
DiffMergeReporter.INSTANCE,
MeldReporter.INSTANCE
```
<sup>[snippet source](/src/ApprovalTests/Reporters/Linux/LinuxDiffReporter.cs#L9-L12) / [anchor](#snippet-linux_diff_reporters)</sup>
<!-- endsnippet -->


## Making Custom Reporters

If your favorite diff tool isn't already in ApprovalTests. There are a couple ways you can fix that. First, try a custom reporter

<!-- snippet: custom_reporter -->
<a id='snippet-custom_reporter'/></a>
```cs
public class CustomReporter : GenericDiffReporter
{
    // Optional but allows performance optimizations
    public static readonly CustomReporter INSTANCE = new CustomReporter();

    public CustomReporter() :
        base(@"c:\path\to\application.exe")
    {
    }

}
```
<sup>[snippet source](/src/ApprovalTests.Tests/Reporters/Samples.cs#L5-L18) / [anchor](#snippet-custom_reporter)</sup>
<!-- endsnippet -->

If you have more details you might want to use the DiffInfo Class.

<!-- snippet: custom_reporter_diff_info -->
<a id='snippet-custom_reporter_diff_info'/></a>
```cs
public CustomReporter() :
    base(
        new DiffInfo(
            @"c:\path\to\application.exe",
            "--nosplash {0} {1}",
            DiffPrograms.TEXT_AND_IMAGE))
{
}
```
<sup>[snippet source](/src/ApprovalTests.Tests/Reporters/Samples.cs#L27-L36) / [anchor](#snippet-custom_reporter_diff_info)</sup>
<!-- endsnippet -->

*note:* Please consider contributing these back via pull request.


## Joining Reporters

These classes help you combine reporters to make more powerful combinations

* FirstWorkingReporter - launch the first report for this system, only 1
* MultiReporter - launch ALL reporters


### Choosing a diff tool preference

The preference for diff tool can often vary from the default setting. As such a custom preference can be created.

<!-- snippet: CustomDiffReporter.cs -->
<a id='snippet-CustomDiffReporter.cs'/></a>
```cs
using ApprovalTests.Reporters;
using ApprovalTests.Reporters.TestFrameworks;
using ApprovalTests.Reporters.Windows;

public class CustomDiffReporter :
    FirstWorkingReporter
{
    public CustomDiffReporter()
        : base(
            //TODO: re-order or remove as required
            CodeCompareReporter.INSTANCE,
            BeyondCompareReporter.INSTANCE,
            TortoiseDiffReporter.INSTANCE,
            AraxisMergeReporter.INSTANCE,
            P4MergeReporter.INSTANCE,
            WinMergeReporter.INSTANCE,
            KDiffReporter.INSTANCE,
            VisualStudioReporter.INSTANCE,
            RiderReporter.INSTANCE,
            FrameworkAssertReporter.INSTANCE,
            QuietReporter.INSTANCE
        )
    {
    }
}
```
<sup>[snippet source](/src/ApprovalTests.Tests/Reporters/CustomDiffReporter.cs#L1-L25) / [anchor](#snippet-CustomDiffReporter.cs)</sup>
<!-- endsnippet -->


## Auto-Approving Reporters

These reporters create a commandline move file to approve the results and place it on your clipboard when a test fails.

* ClipboardReporter - This test only
* AllFailingTestsClipboardReporter - All tests (this might make a long command line)


## Continous Intergration

ApprovalTests will not launch anything if you are running on a CI machine.

Currently, we support:

<!-- snippet: continuous_integration -->
<a id='snippet-continuous_integration'/></a>
```cs
TfsReporter.INSTANCE,
TfsVnextReporter.INSTANCE,
TeamCityReporter.INSTANCE,
JenkinsReporter.INSTANCE,
BambooReporter.INSTANCE,
CruiseControlNetReporter.INSTANCE,
NCrunchReporter.INSTANCE,
MightyMooseAutoTestReporter.INSTANCE,
MyGetReporter.INSTANCE,
GoContinuousDeliveryReporter.INSTANCE,
AppVeyorReporter.INSTANCE
```
<sup>[snippet source](/src/ApprovalTests/Reporters/DefaultFrontLoaderReporter.cs#L11-L23) / [anchor](#snippet-continuous_integration)</sup>
<!-- endsnippet -->

You can add to this by configuring the FrontLoadedReporter Annotation.

## File Types

ApprovalTests will do different things depending on if it thinks a file is an image or not. It does this by the file extension.

### Text File extensions

<!-- snippet: text_file_types -->
<a id='snippet-text_file_types'/></a>
```cs
".txt",
".csv",
".htm",
".html",
".xml",
".eml",
".cs",
".css",
".sql",
".json",
".dot"
```
<sup>[snippet source](/src/ApprovalTests/Reporters/GenericDiffReporter.cs#L29-L41) / [anchor](#snippet-text_file_types)</sup>
<!-- endsnippet -->


### Image File extensions

<!-- snippet: image_file_types -->
<a id='snippet-image_file_types'/></a>
```cs
".png",
".gif",
".jpg",
".jpeg",
".bmp",
".tif",
".tiff"
```
<sup>[snippet source](/src/ApprovalTests/Reporters/GenericDiffReporter.cs#L46-L54) / [anchor](#snippet-image_file_types)</sup>
<!-- endsnippet -->
---

[Back to User Guide](/doc/README.md#top)
