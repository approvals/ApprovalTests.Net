<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /docs/ApprovalTests/mdsource/Features.source.md
To change this file edit the source file and then run MarkdownSnippets.
-->

# ApprovalTests Features

<!-- toc -->
## Contents

  * [Approvals.AssertText](#approvalsasserttext)
  * [MachineSpecificReporter](#machinespecificreporter)
  * [ApprovalsFilename](#approvalsfilename)
  * [Making Custom Reporters](#making-custom-reporters)
  * [Environment SpecificTests](#environment-specifictests)<!-- endToc -->


## Approvals.AssertText

Watch a [Video demo of this feature](https://youtu.be/O-71uaEpCsQ)  

If you prefer not to store your expectations in the `.approved.` files, you can store them directly in-line with your code.
Sample:

(Before):

<!-- snippet: assert_text_before -->
<a id='snippet-assert_text_before'></a>
```cs
var header = new Header();
var actual = header.MakeHeading("I am ten chars");
var expected = "";
Approvals.AssertText(expected, actual);
```
<sup><a href='/src/ApprovalTests.Tests/Reporters/InlineTextReporterTest.cs#L51-L56' title='Snippet source file'>snippet source</a> | <a href='#snippet-assert_text_before' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->

When you do this, it will copy the c# for the `.received.` to your clipboard, so you can paste it in-line.

(After)
<!-- snippet: assert_text -->
<a id='snippet-assert_text'></a>
```cs
var header = new Header();
var actual = header.MakeHeading("I am ten chars");
var expected = new[]{
    "**************",
    "I am ten chars",
    "**************",

};
Approvals.AssertText(expected, actual);
```
<sup><a href='/src/ApprovalTests.Tests/Reporters/InlineTextReporterTest.cs#L36-L46' title='Snippet source file'>snippet source</a> | <a href='#snippet-assert_text' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


Currently, it put the text as an array of strings that gets concatenated as this tends to read better.

It will also write the results to a temp files on failure and open a DiffTool, so you can easily view the results and differences.


## [MachineSpecificReporter](EnvironmentSpecificTests.md#machinespecificreporter)


## ApprovalsFilename

Sometimes you want to parse an approvals filename to get the parts.

<!-- snippet: approvals_filename -->
<a id='snippet-approvals_filename'></a>
```cs
var approvalsFilename = ApprovalsFilename.Parse(@"..\Email\EmailTest.Testname.Microsoft_Windows_10_Education.approved.eml");
```
<sup><a href='/src/ApprovalTests.Tests/Namer/ApprovalsFilenameTest.cs#L12-L14' title='Snippet source file'>snippet source</a> | <a href='#snippet-approvals_filename' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->

Will produce

<!-- snippet: ApprovalsFilenameTest.TestMachineSpecificName.approved.txt -->
<a id='snippet-ApprovalsFilenameTest.TestMachineSpecificName.approved.txt'></a>
```txt
GetFullPath: ..\Email\EmailTest.Testname.Microsoft_Windows_10_Education.approved.eml
Directory: ..\Email
ClassName: EmailTest
MethodName: Testname
AdditionalInformation: [Microsoft_Windows_10_Education]
ApprovedStatus: approved
Extension: eml
```
<sup><a href='/src/ApprovalTests.Tests/Namer/ApprovalsFilenameTest.TestMachineSpecificName.approved.txt#L1-L7' title='Snippet source file'>snippet source</a> | <a href='#snippet-ApprovalsFilenameTest.TestMachineSpecificName.approved.txt' title='Start of snippet'>anchor</a></sup>
<!-- endSnippet -->


## [Making Custom Reporters](Reporters.md##making-custom-reporters)


## [Environment SpecificTests](EnvironmentSpecificTests.md#environmentspecifictest)

---

[Back to User Guide](readme.md#top)
